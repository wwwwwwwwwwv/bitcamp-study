<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>ex04</title>
</head>

<body>
	<h1>객체 - 객체 생성과 초기화 IV</h1>
	<script>
		"use strict"

		// 6) 함수 외부에서 객체를 생성한 후 즉시 초기화시키기

		// new 명령 다음에 실행한 후에 다음 함수를 호출한다.
		function createScore(name, kor, eng, math) {
			// new 명령을 실행한 후에 이 함수를 호출하면
			// this 내장 변수에 객체 주소가 저장된다.
			// 이렇게 되면 이 함수 내부에서 객체를 생성할 필요가 없다.
			// this 내장 변수를 사용하여 객체를 사용하면 된다.
			this.name = name;
			this.kor = kor;
			this.eng = eng;
			this.math = math;
			this.sum = function() {
				return this.kor + this.eng + this.math;
			};
			this.aver = function() {
				return this.sum() / 3;
			};
			// 이 함수에서 객체를 생성하지 않았기때문에
			// 객체를 리턴할 필요가 없다.
		}

		var scores = []; //new Array();
		scores[0] = new createScore("홍길동", 100, 100, 100);
		scores[1] = new createScore("임꺽정", 90, 90, 90);
		scores[2] = new createScore("유관순", 80, 80, 80);

		// 이렇게 new 명령을 통해
		// 생성된 기본 객체를 초기화시키는 함수를 "생성자(constructor)"라고 한다.
		//

		for (var score of scores) {
			console.log(score.name, score.kor, score.eng, score.math,
				score.sum(), score.aver());
		}

		console.log("--------------------------------------------");

		// 과목의 점수를 변경하더라도 합계와 평균은 다시 계산되기 때문에 편하다!
		scores[2].kor = 100;

		for (var score of scores) {
			console.log(score.name, score.kor, score.eng, score.math,
				score.sum(), score.aver());
		}
	</script>
</body>

</html>